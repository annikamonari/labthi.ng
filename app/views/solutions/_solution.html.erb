<% # This template is called from Idea#show %>
<li class="media solution">

  <%= render partial: "evaluations/vote_wrapper", locals: {voteable: solution} %>

  <div class="media-body">
    <div class="media-item-body">
      <p>
      	<%= best_in_place_if current_user == solution.user, solution, :brief, activator: '.edit-solution-' + solution.id.to_s %>
      	<%= link_to "Edit", "",
          class: "edit-solution-#{solution.id.to_s}" if current_user == solution.user %>
      </p>
      <p>
        <%= solution.user.name %>
      </p>
      <% if solution.aspect.title == "Image" %>
        <p>
          <%= image_tag solution.image.display %>
        </p>
      <% end %>
    </end>
    <% if solution.comments.count > 0 %>
      <ul class="media-list comments solution-comments">
        <%= render vote_order(solution.comments) || "No comments found" %>
      </ul>
    <% end%>
      <p>
        <%= link_to "Add comment", new_solution_comment_path(solution, solution_id: solution.id) %>
      </p>
    </div>
</li>